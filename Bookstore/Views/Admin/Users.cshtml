@{
    Layout = "_AdminLayout";
}
@model Bookstore.Models.UsersViewModel
@{
    List<SelectListItem> DropDownList = Model.ListOfRoles;
}
@if (Model.Exist == false)
{
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            Swal.fire({
                title: 'Alert!',
                text: 'User Does Not Exist',
                icon: 'error'
            });
        });
    </script>
    Model.Exist = null;
}
else if (Model.Exist == true)
{
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            Swal.fire({
                title: 'Alert!',
                text: 'User Account Has Been Deleted',
                icon: 'success'
            });
        });
    </script>
}


<div class="container-fluid mt-4">
    <!-- Page content -->
    <div class="row">
        <div class="ms-4 col-6">
            <h1 class="mb-0 Heading">Administration</h1>
            <p class="sm-text lead">Welcome to the admin panel.</p>
        </div>
    </div>

    <div class="">
        <div class="row row-cols-1 row-cols-md-2 ">
            <div class="col  p-3">

                <div class="card">

                    <div class="card-body ps-3 ps-xl-5 pt-4 row">
                        <div class="col-8"><h5 class="card-title restitle">Create Users</h5><p class="res-para sm-text">Manage User, Guest and Admin Accounts</p></div>
                        <div class="col-4 text-center align-middle">
                            <svg xmlns="http://www.w3.org/2000/svg" width="92" height="92" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                              <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
                            </svg>
                        </div>
                        
                    </div>
                    <div class="card-footer text-center">
                        <a class="btn a-btn text-primary" data-bs-toggle="modal" data-bs-target="#CreateUser">Click Here!</a>
                    </div>
                </div>

            </div>
            <div class="col  p-3">

                <div class="card">

                    <div class="card-body ps-3  ps-xl-5 pt-4 row">
                        <div class="col-8"><h5 class="card-title restitle">Delete Users</h5><p class="res-para sm-text">Manage User, Guest and Admin Accounts</p></div>
                        <div class="col-4 text-center align-middle">
                            <svg xmlns="http://www.w3.org/2000/svg" width="92" height="92" fill="currentColor" class="bi bi-person-x" viewBox="0 0 16 16">
                                <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m.256 7a4.5 4.5 0 0 1-.229-1.004H3c.001-.246.154-.986.832-1.664C4.484 10.68 5.711 10 8 10q.39 0 .74.025c.226-.341.496-.65.804-.918Q8.844 9.002 8 9c-5 0-6 3-6 4s1 1 1 1z" />
                                <path d="M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m-.646-4.854.646.647.646-.647a.5.5 0 0 1 .708.708l-.647.646.647.646a.5.5 0 0 1-.708.708l-.646-.647-.646.647a.5.5 0 0 1-.708-.708l.647-.646-.647-.646a.5.5 0 0 1 .708-.708" />
                            </svg>
                        </div>

                    </div>
                    <div class="card-footer text-center">
                        <a class="btn a-btn text-primary" data-bs-toggle="modal" data-bs-target="#DeleteUser" onclick="showmodel()">Click Here!</a>
                    </div>
                </div>

            </div>
            <div class="col  p-3">

                <div class="card">

                    <div class="card-body ps-3  ps-xl-5 pt-4 row">
                        <div class="col-8"><h5 class="card-title restitle">List By Group</h5><p class="res-para sm-text">Manage User, Guest and Admin Accounts</p></div>
                        <div class="col-4 text-center align-middle">
                            <svg xmlns="http://www.w3.org/2000/svg" width="92" height="92" fill="currentColor" class="bi bi-person-vcard" viewBox="0 0 16 16">
                                <path d="M5 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4m4-2.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5M9 8a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4A.5.5 0 0 1 9 8m1 2.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5" />
                                <path d="M2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zM1 4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H8.96q.04-.245.04-.5C9 10.567 7.21 9 5 9c-2.086 0-3.8 1.398-3.984 3.181A1 1 0 0 1 1 12z" />
                            </svg>
                        </div>

                    </div>
                    <div class="card-footer text-center">
                        <a class="btn a-btn text-primary">Click Here!</a>
                    </div>
                </div>

            </div>
            <div class="col  p-3">
                <div class="card">

                    <div class="card-body ps-3  ps-xl-5 pt-4 row">
                        <div class="col-8"><h5 class="card-title restitle">Edit Accounts</h5><p class="res-para sm-text">Manage User, Guest and Admin Accounts</p></div>
                        <div class="col-4 text-center align-middle">
                            <svg xmlns="http://www.w3.org/2000/svg" width="92" height="92" fill="currentColor" class="bi bi-person-lock" viewBox="0 0 16 16">
                                <path d="M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0M8 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4m0 5.996V14H3s-1 0-1-1 1-4 6-4q.845.002 1.544.107a4.5 4.5 0 0 0-.803.918A11 11 0 0 0 8 10c-2.29 0-3.516.68-4.168 1.332-.678.678-.83 1.418-.832 1.664zM9 13a1 1 0 0 1 1-1v-1a2 2 0 1 1 4 0v1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1zm3-3a1 1 0 0 0-1 1v1h2v-1a1 1 0 0 0-1-1" />
                            </svg>
                        </div>

                    </div>
                    <div class="card-footer text-center">
                        <a class="btn a-btn text-primary">Click Here!</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
   

    @* MODELS *@
    <!-- Button trigger modal -->

    <!-- Create & Edit Modal -->
    <div class="modal fade" id="CreateUser" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">Create New User</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-3">


                    @* Modal Body *@

                     <h5 class="card-title restitle text-center p-2">Create New User</h5>

                    <form asp-action="Users" asp-controller="Admin" method="post" id="CreateUserForm" class="MainFont client-validate">


                
                        <div class="form-floating wt">
                            <input asp-for="Username" class="form-control" placeholder="name@example.com" />
                            <label asp-for="Username"> Enter Username </label>
                        </div>
                        <span class="pb-3 text-danger" asp-validation-for="Username"></span>
                        @{
                            if (ViewBag.AlreadyExists != null)
                            {
                                <span class="pb-3 text-danger">@TempData["UsernameUsed"]</span>
                            }
                        }
                
                        <br />
                        <div class="form-floating wt">
                            <input asp-for="Email" class="form-control" placeholder="name@example.com" />
                            <label for="Email"> Enter Email</label>
                        </div>
                        <span class="pb-3 text-danger" asp-validation-for="Email"></span>
                        <br />
                        <div class="form-floating wt">
                            <input asp-for="Password" class="form-control" placeholder="name@example.com" type="password" />
                            <label for="Password"> Enter Password </label>
                        </div>
                        <span class="pb-3 text-danger" asp-validation-for="Password"></span>
                        <br /> 
                        <label class="">Select Role:</label>
                        <select name="Role" asp-for="role" asp-items="@DropDownList" class="form-select">
                        </select>
                        <span class="pb-3 text-danger" asp-validation-for="role"></span>
                        <br />

                    </form>


                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" form="CreateUserForm" class="btn btn-primary">Create</button>
                </div>
            </div>
        </div>
    </div>
    

    <div class="modal fade" id="DeleteUser" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="staticBackdropLabel">Create New User</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-3">


                    @* Modal Body *@

                    <h5 class="card-title restitle text-center p-2">Delete User</h5>

                    <form asp-action="DeleteForm" asp-controller="Admin" method="post" id="DeleteUserForm" class="MainFont">

                        <div class="form-floating wt">
                            <input asp-for="Username" class="form-control" placeholder="name@example.com" />
                            <label asp-for="Username"> Enter Username </label>
                        </div>
                        
                        

                    </form>
                            


                </div>
                <div class="modal-footer">
                    @* <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Cancel</button> *@
                    <button type="submit" form="DeleteUserForm" onclick="" class="btn btn-primary">Delete</button>
                </div>
            </div>
        </div>
    </div>












</div>
